<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>


    <style>

        * {box-sizing: border-box;}


        body {
            /* background-color: powderblue; */
            margin: 0px;
            padding: 0px;
        }


        .main {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .head {

            width: 80%;
            height: 50px;
            background-color: white;
            position: fixed;
            top: 0;
        }

        .dialogue {
            margin-top: 60px;
            width: 80%;
            /* height: 1000px; */
            /* background-color: aqua; */
            margin-bottom: 100px;
        }


        .footer {
            width: 80%;
            background-color: white;
            position: fixed;
            bottom: 0;
            border: 3px solid rgb(53, 52, 52);
            border-radius: 12px;
            margin-bottom: 10px;
        }

        .input_menu {
            display: flex;
            flex-direction: row;
            align-items: center;
            /* background-color: blueviolet; */
            gap: 20px;
            /* border: 3px solid rgb(53, 52, 52);
            border-radius: 12px; */
            /* margin-bottom: 20px; */
        }

        .input_wrapper {
            flex-grow: 1;
        }

        .txta {
            background-color: transparent;
            border: none;
            font-size: 16px;
            padding: 12px;
            width: 100%;
            height: 50px;
            resize: none;
            display: block;
            max-height: 80px;

        }
        .txta:focus {
            outline: none;
        }

        .txta::-webkit-scrollbar{
            width: 0px;
        }

        

        .ask_button {
            width: 23px;
            height: 30px;
            margin-right: 10px;
            border: none;
            background: url("{{ url_for('static', filename='icons/pngegg.png') }}") no-repeat center / contain;
            cursor: pointer;
        }

        

        .cleat_input {
            width: 23px;
            height: 30px;
            margin-left: 10px;
            border: none;
            background: url("{{ url_for('static', filename='icons/free-icon-sweep-7690396.png') }}") no-repeat center / contain;
            cursor: pointer;
        }

        


        .dialogue_title {
            display: inline-block; /* Чтобы span воспринимался как блок */
            padding: 5px 12px;
            margin-bottom: 7px;
            background-color: #6658ea; /* Цвет фона */
            color: white; /* Цвет текста */
            border-radius: 12px;
            font-size: 12px;
            font-family: Calibri;

        }

        .dialogue_item_text {
            font-size: 16px;
            margin-bottom: 12px;
            font-family: Calibri;
        }


    </style>
</head>
<body>

<div class="main">

    <div class="head"></div>

    <div class="dialogue" id="dialogue">
        <div class="dialogue_item">
            <div class="dialogue_item_logo"><span class="dialogue_title">AGM</span></div>
            <div class="dialogue_item_text">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed dictum mollis leo sed porttitor. Donec in egestas mi, non imperdiet lacus. Duis egestas ante ante, et consequat tellus mollis at. Vestibulum at urna sapien. Aenean massa elit, molestie nec ante non, placerat rutrum lacus. Quisque at enim a nisl pulvinar convallis. Praesent eu lectus orci. Etiam aliquet lacus vel aliquet dignissim. Proin ut arcu sit amet risus faucibus pharetra. Praesent mollis nibh et nulla elementum maximus. In dapibus lobortis libero venenatis venenatis. Nulla facilisi. Quisque auctor facilisis ex vel euismod. Nulla in laoreet massa, et semper mi. Nunc et orci ullamcorper, placerat mi bibendum, pulvinar quam. Morbi maximus tincidunt dui ac rhoncus.</div>

        </div>

        <div class="dialogue_item">
            <div class="dialogue_item_logo"><span class="dialogue_title">USER</span></div>
            <div class="dialogue_item_text">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed dictum mollis leo sed porttitor. Donec in egestas mi, non imperdiet lacus. Duis egestas ante ante, et consequat tellus mollis at. Vestibulum at urna sapien. Aenean massa elit, molestie nec ante non, placerat rutrum lacus. Quisque at enim a nisl pulvinar convallis. Praesent eu lectus orci. Etiam aliquet lacus vel aliquet dignissim. Proin ut arcu sit amet risus faucibus pharetra. Praesent mollis nibh et nulla elementum maximus. In dapibus lobortis libero venenatis venenatis. Nulla facilisi. Quisque auctor facilisis ex vel euismod. Nulla in laoreet massa, et semper mi. Nunc et orci ullamcorper, placerat mi bibendum, pulvinar quam. Morbi maximus tincidunt dui ac rhoncus.</div>

        </div>
    </div>

    <div class="footer">
        <div class="input_menu">

            <div class="input_wrapper">
                <textarea class="txta" id="txta" placeholder="Send message"></textarea>
            </div>
            <div class="ask_button_wrapper">
                <button class="ask_button" id="ask_button" onclick="Ask()"></button>
            </div>

        </div>

        <div class="input_menu_bottom">
            <button class="cleat_input" onclick="clearInput()"></button>
        </div>

    </div>



</div>


<script>
    const textarea = document.querySelector('textarea');
    textarea.addEventListener("keyup", e => {
        textarea.style.height = "50px";
        let scHeight = e.target.scrollHeight;
        textarea.style.height = `${scHeight}px`;  
    });

</script>

<script>
    function clearInput() {
        document.getElementById('txta').value = '';
        const textarea = document.querySelector('textarea');
        textarea.style.height = "50px";
    }
</script>

<script>
    function CreateItem(text, type) {

        let dialogue = document.getElementById("dialogue")


        let dialogue_item = document.createElement('div');
        dialogue_item.className = "dialogue_item";

        let dialogue_item_logo = document.createElement('div');
        dialogue_item_logo.className = "dialogue_item_logo";

        let dialogue_item_logo_span = document.createElement('span');
        dialogue_item_logo_span.className = "dialogue_title";
        if (type == 'user') {
            dialogue_item_logo_span.textContent = 'USER'
        } else {
            dialogue_item_logo_span.textContent = 'AGM'
        };

        dialogue_item_logo.appendChild(dialogue_item_logo_span);
        dialogue_item.appendChild(dialogue_item_logo);

        let dialogue_item_text = document.createElement('div');
        dialogue_item_text.className = "dialogue_item_text";
        dialogue_item_text.innerText = text;

        dialogue_item.appendChild(dialogue_item_text);

        dialogue.append(dialogue_item);

    };
    function Ask() {
        let question = document.getElementById('txta').value.trim();
        if (question.length == 0) {
            clearInput()
            return
        }
        CreateItem(question, 'user');
        clearInput()
    };
</script>



</body>
</html>